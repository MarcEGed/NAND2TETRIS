for line in assembly file:
    line = remove_comment_and_spaces(line)
    if isEmpty(line): go next line

    if line[0] = '@':
        value = get_int(line[1:])
        binary = 0 + to15bit(value)
    else:
        dest, comp, jump = parse_C_instruction(line)
        binary = '111' + comp_bits[comp] + dest_bits[dest] + jump_bits[jump]

    write_line(binary)